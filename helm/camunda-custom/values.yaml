camunda-platform:
  global:
    ingress:
      enabled: false
  
  # Zeebe - workflow engine (1 replica)
  zeebe:
    clusterSize: 1
    partitionCount: 1
    replicationFactor: 1
    resources:
      requests:
        cpu: "200m"
        memory: "512Mi"
      limits:
        cpu: "500m"
        memory: "1Gi"
  
  # Zeebe Gateway (1 replica)
  zeebe-gateway:
    replicas: 1
    resources:
      requests:
        cpu: "100m"
        memory: "256Mi"
      limits:
        cpu: "250m"
        memory: "512Mi"
  
  # Operate UI
  operate:
    enabled: true
    resources:
      requests:
        cpu: "200m"
        memory: "512Mi"
      limits:
        cpu: "400m"
        memory: "1Gi"
  
  # Tasklist UI
  tasklist:
    enabled: true
    resources:
      requests:
        cpu: "200m"
        memory: "512Mi"
      limits:
        cpu: "400m"
        memory: "1Gi"
  
  # Iskljuƒçi sve nepotrebne komponente
  optimize:
    enabled: false
  
  connectors:
    enabled: false
  
  webModeler:
    enabled: false
  
  console:
    enabled: false
  
  # Identity/Keycloak za autentikaciju
  identity:
    enabled: true
    keycloak:
      postgresql:
        enabled: false  # Koristi shared PostgreSQL
  
  # Elasticsearch - EKSPLICITNI IMAGE
  elasticsearch:
    enabled: true
    image:
      registry: docker.io
      repository: bitnami/elasticsearch
      tag: 8.9.2-debian-11-r64  # Eksplicitna verzija koja postoji
    sysctlImage:
      enabled: false  # Fix za bitnami os-shell problem
    master:
      replicaCount: 1
      masterOnly: false
    data:
      replicaCount: 0
    coordinating:
      replicaCount: 0
    ingest:
      replicaCount: 0
    volumeClaimTemplate:
      resources:
        requests:
          storage: 5Gi
    resources:
      requests:
        cpu: "200m"
        memory: "1Gi"
      limits:
        cpu: "500m"
        memory: "2Gi"
  
  # PostgreSQL - EKSPLICITNI IMAGE
  postgresql:
    enabled: true
    image:
      registry: docker.io
      repository: bitnami/postgresql
      tag: 15.6.0-debian-12-r11
    auth:
      postgresPassword: "camunda"
      username: "camunda"
      password: "camunda"
      database: "camunda"
    primary:
      persistence:
        size: 5Gi
      resources:
        requests:
          cpu: "100m"
          memory: "256Mi"
        limits:
          cpu: "250m"
          memory: "512Mi"